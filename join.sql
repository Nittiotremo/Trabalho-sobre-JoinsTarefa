
--2) SEXO = {CODSEXO, NOMESEXO}
CREATE TABLE SEXO(
CODSEXO SERIAL PRIMARY KEY,
NOMESEXO VARCHAR (9) NOT NULL 
);
INSERT INTO SEXO (CODSEXO,NOMESEXO) VALUES (1,'MASCULINO')
INSERT INTO SEXO (CODSEXO,NOMESEXO) VALUES (2,'FEMININO')

--3) RUA = {CODRUA, NOMERUA}
CREATE TABLE RUA (
CODRUA SERIAL PRIMARY KEY,
NOMERUA VARCHAR (80) NOT NULL UNIQUE
);	
INSERT INTO RUA(CODRUA, NOMERUA) VALUES(1,'RUA ESPANHA') --SP SANTA FÉ
INSERT INTO RUA(CODRUA, NOMERUA) VALUES(2,'RUA PASSEIO CAMPOS') --SP ILHA SOLTEIRA
INSERT INTO RUA(CODRUA, NOMERUA) VALUES(3,'RUA RUA JOÃO DOS SANTOS') --SP ITAÍ
INSERT INTO RUA(CODRUA, NOMERUA) VALUES(4,'RUA NÍTEROI') --SP BANANAL
INSERT INTO RUA(CODRUA, NOMERUA) VALUES(5,'RUA FIGUEIRA') --SP IPORANGA

--4) BAIRRO = {CODBAIRRO, NOMEBAIRRO}
CREATE TABLE BAIRRO(
CODBAIRRO SERIAL PRIMARY KEY,
NOMEBAIRRO VARCHAR (80) NOT NULL UNIQUE
);	
INSERT INTO BAIRRO(CODBAIRRO, NOMEBAIRRO) VALUES(1,'JARDIM EUROPA 1') -- SP SANTA FÉ DO SUL
INSERT INTO BAIRRO(CODBAIRRO, NOMEBAIRRO) VALUES(2,'FUNDÃO') -- SP IPORANGA
INSERT INTO BAIRRO(CODBAIRRO, NOMEBAIRRO) VALUES(3,'CENTRO DE ITAÍ') -- ITAÍ
INSERT INTO BAIRRO(CODBAIRRO, NOMEBAIRRO) VALUES(4,'BAIRRO BANANAL') -- SP BANANAL
INSERT INTO BAIRRO(CODBAIRRO, NOMEBAIRRO) VALUES(5,'BAIRRO ILHA SOLTEIRA') --ILHA SOLTEIRA

--5) CEP = {CODCEP, NUMEROCEP}
CREATE TABLE CEP (
CODCEP SERIAL PRIMARY KEY,
NUMEROCEP CHAR(9) NOT NULL UNIQUE
);
INSERT INTO CEP(CODCEP, NUMEROCEP) VALUES(1,'15775000') -- SP SANTA FÉ DO SUL
INSERT INTO CEP(CODCEP, NUMEROCEP) VALUES(2,'18330000') -- SP IPORANGA
INSERT INTO CEP(CODCEP, NUMEROCEP) VALUES(3,'18730000') -- ITAÍ
INSERT INTO CEP(CODCEP, NUMEROCEP) VALUES(4,'12850000') -- SP BANANAL
INSERT INTO CEP(CODCEP, NUMEROCEP) VALUES(5,'15385000 ') --ILHA SOLTEIRA


--6) CIDADE = {CODCIDADE, NOMECIDADE, CODUF}
CREATE TABLE CIDADE (
CODCIDADE SERIAL PRIMARY KEY,
NOMECIDADE VARCHAR(80) NOT NULL UNIQUE,
CODUF_FK INTEGER REFERENCES UF(CODUF) MATCH SIMPLE ON DELETE CASCADE ON UPDATE CASCADE
);
INSERT INTO CIDADE(CODCIDADE, NOMECIDADE,CODUF_FK) VALUES(1,'SANTA FÉ DO SUL',1) -- SP SANTA FÉ DO SUL
INSERT INTO CIDADE(CODCIDADE, NOMECIDADE,CODUF_FK) VALUES(2,'IPORANGA',1)
INSERT INTO CIDADE(CODCIDADE, NOMECIDADE,CODUF_FK) VALUES(3,'ITAI',1)
INSERT INTO CIDADE(CODCIDADE, NOMECIDADE,CODUF_FK) VALUES(4,'BANANAL',1)
INSERT INTO CIDADE(CODCIDADE, NOMECIDADE,CODUF_FK) VALUES(5,'ILHA SOLTEIRA',1)
	SELECT * FROM CIDADE
--7) UF = {CODUF, NOMEUF, SIGLA}
CREATE TABLE UF(
CODUF SERIAL PRIMARY KEY,
NOMEUF VARCHAR (80) NOT NULL UNIQUE,
SIGLA CHAR (2) NOT NULL UNIQUE
);
INSERT INTO UF(CODUF, NOMEUF,SIGLA) VALUES(1,'SÃO PAULO','SP')

--8) TRABALHO = {CODTRABALHO, NOMETRABALHO}
CREATE TABLE TRABALHO(
CODTRABALHO SERIAL PRIMARY KEY,
NOMETRABALHO VARCHAR(80) NOT NULL
);
INSERT INTO TRABALHO(CODTRABALHO,NOMETRABALHO) VALUES(1,'DESEMPREGADO')
INSERT INTO TRABALHO(CODTRABALHO,NOMETRABALHO) VALUES(2,'FUNCIONARIO PÚBLICO')

/*1) CLIENTE = {CODCLIENTE, NOMECLIENTE, FOTO, DATANASC, CODSEXO_FK, CODRUA_FK,
CODBAIRRO_FK, CODCEP_FK, CODCIDADE_FK, SALARIO, CODTRABALHO_FK, NUMEROCASA_FK}*/
CREATE TABLE CLIENTE(
CODCLIENTE SERIAL PRIMARY KEY,
NOMECLIENTE VARCHAR(80) NOT NULL,
FOTO BYTEA UNIQUE,
DATANASC VARCHAR(80) NOT NULL,
CODSEXO_FK INTEGER REFERENCES SEXO(CODSEXO) MATCH SIMPLE ON DELETE CASCADE ON UPDATE CASCADE,
CODRUA_FK INTEGER REFERENCES RUA(CODRUA) MATCH SIMPLE ON DELETE CASCADE ON UPDATE CASCADE,
CODBAIRRO_FK INTEGER REFERENCES BAIRRO(CODBAIRRO) MATCH SIMPLE ON DELETE CASCADE ON UPDATE CASCADE,
CODCEP_FK INTEGER REFERENCES CEP(CODCEP) MATCH SIMPLE ON DELETE CASCADE ON UPDATE CASCADE,
CODCIDADE_FK INTEGER REFERENCES CIDADE(CODCIDADE) MATCH SIMPLE ON DELETE CASCADE ON UPDATE CASCADE,
SALARIO NUMERIC (10,2) NOT NULL,
CODTRABALHO_FK INTEGER REFERENCES TRABALHO(CODTRABALHO) MATCH SIMPLE ON DELETE CASCADE ON UPDATE CASCADE,
NUMEROCASA VARCHAR (10) NOT NULL
);	
INSERT INTO CLIENTE(CODCLIENTE,NOMECLIENTE,DATANASC,CODSEXO_FK,CODRUA_FK,
CODBAIRRO_FK,CODCEP_FK,CODCIDADE_FK,SALARIO,CODTRABALHO_FK,NUMEROCASA) VALUES(1,'MARCOS ANTONIO ESTREMOTE','1967-09-13',1,
2,5,5,5,'500',1,'1313')
	
INSERT INTO CLIENTE(CODCLIENTE,NOMECLIENTE,DATANASC,CODSEXO_FK,CODRUA_FK,
CODBAIRRO_FK,CODCEP_FK,CODCIDADE_FK,SALARIO,CODTRABALHO_FK,NUMEROCASA) VALUES(2,'CARLOS ALBERTO','2003-12-19',1,
1,1,1,1,'50',1,'210')
	
INSERT INTO CLIENTE(CODCLIENTE,NOMECLIENTE,DATANASC,CODSEXO_FK,CODRUA_FK,
CODBAIRRO_FK,CODCEP_FK,CODCIDADE_FK,SALARIO,CODTRABALHO_FK,NUMEROCASA) VALUES(3,'ANGELA ROSA','1999-06-14',2,
4,4,4,4,'1.500',2,'400')

INSERT INTO CLIENTE(CODCLIENTE,NOMECLIENTE,DATANASC,CODSEXO_FK,CODRUA_FK,
CODBAIRRO_FK,CODCEP_FK,CODCIDADE_FK,SALARIO,CODTRABALHO_FK,NUMEROCASA) VALUES(4,'YUI HIRASAWA','1991-11-27',2,
3,3,3,3,'1.700',2,'32')
	
SELECT * FROM CLIENTE
);

--9) TELEFONE = {CODTELEFONE, NUMERO, CODOPERADORA}


CREATE TABLE TELEFONE (
CODTELEFONE SERIAL PRIMARY KEY,
NUMERO CHAR (9) NOT NULL,
CODOPERADORA_FK INTEGER REFERENCES OPERADORA(CODOPERADORA) MATCH SIMPLE ON DELETE CASCADE ON UPDATE CASCADE
);
	INSERT INTO TELEFONE(CODTELEFONE,NUMERO,CODOPERADORA_FK) VALUES(1,'981401730','1')
	INSERT INTO TELEFONE(CODTELEFONE,NUMERO,CODOPERADORA_FK) VALUES(2,'981401731','1')
	INSERT INTO TELEFONE(CODTELEFONE,NUMERO,CODOPERADORA_FK) VALUES(3,'981401732','1')
	INSERT INTO TELEFONE(CODTELEFONE,NUMERO,CODOPERADORA_FK) VALUES(4,'981401733','1')

);
--10) OPERADORA = {CODPERADORA, NOMEOPERADORA}
CREATE TABLE OPERADORA (
CODOPERADORA SERIAL PRIMARY KEY,
NOMEOPERADORA VARCHAR(80) NOT NULL UNIQUE
);	
INSERT INTO OPERADORA(CODOPERADORA, NOMEOPERADORA) VALUES(1,'TIM')

--11) ITENSTELCLIENTE = {CODTELEFONE, CODCLIENTE}
CREATE TABLE ITENSTELCLIENTE (
CODTELEFONE_FK INTEGER REFERENCES TELEFONE(CODTELEFONE) MATCH SIMPLE ON DELETE CASCADE ON UPDATE CASCADE,
CODCLIENTE_FK INTEGER REFERENCES CLIENTE(CODCLIENTE) MATCH SIMPLE ON DELETE CASCADE ON UPDATE CASCADE
);
INSERT INTO ITENSTELCLIENTE(CODTELEFONE_FK,CODCLIENTE_FK) VALUES(1,3)
INSERT INTO ITENSTELCLIENTE(CODTELEFONE_FK,CODCLIENTE_FK) VALUES(1,4)
SELECT * FROM ITENSTELCLIENTE

--12) ITENSTELEFONETRABALHO = {CODTRABALHO, CODTELEFONE}
CREATE TABLE ITENSTELEFONETRABALHO(
CODTRABALHO_FK INTEGER REFERENCES TRABALHO(CODTRABALHO) MATCH SIMPLE ON DELETE CASCADE ON UPDATE CASCADE,
CODTELEFONE_FK INTEGER REFERENCES TELEFONE(CODTELEFONE) MATCH SIMPLE ON DELETE CASCADE ON UPDATE CASCADE
);
/*13) FUNCIONARIOS = {CODFUNCIONARIO, NOMEFUNCIONARIO, NUMEROCASA,
CODRUA, CODBAIRRO, CODCEP, CODCIDADE, CODFUNCAO, SALARIO, CODLOJA}*/
CREATE TABLE FUNCIONARIOS(
CODFUNCIONARIOS SERIAL PRIMARY KEY,
NOMEFUNCIONARIO VARCHAR(80) NOT NULL,
NUMEROCASA VARCHAR(10) NOT NULL,
CODRUA_FK INTEGER REFERENCES RUA(CODRUA) MATCH SIMPLE ON DELETE CASCADE ON UPDATE CASCADE,
CODBAIRRO_FK INTEGER REFERENCES BAIRRO(CODBAIRRO) MATCH SIMPLE ON DELETE CASCADE ON UPDATE CASCADE,
CODCEP_FK INTEGER REFERENCES CEP(CODCEP) MATCH SIMPLE ON DELETE CASCADE ON UPDATE CASCADE,
CODCIDADE_FK INTEGER REFERENCES CIDADE(CODCIDADE) MATCH SIMPLE ON DELETE CASCADE ON UPDATE CASCADE,
CODFUNCAO_FK INTEGER REFERENCES FUNCAO(CODFUNCAO) MATCH SIMPLE ON DELETE CASCADE ON UPDATE CASCADE,
SALARIO NUMERIC (10,2) NOT NULL,
CODLOJA_FK INTEGER REFERENCES LOJA(CODLOJA) MATCH SIMPLE ON DELETE CASCADE ON UPDATE CASCADE
);
INSERT INTO FUNCIONARIOS(CODFUNCIONARIOS,NOMEFUNCIONARIO,NUMEROCASA,CODRUA_FK,CODBAIRRO_FK,
CODCEP_FK,CODCIDADE_FK,CODFUNCAO_FK,SALARIO,CODLOJA_FK) VALUES(1,'JOÃO DA SILVA','111',1,1,1,1,1,'1.200',1)
	
INSERT INTO FUNCIONARIOS(CODFUNCIONARIOS,NOMEFUNCIONARIO,NUMEROCASA,CODRUA_FK,CODBAIRRO_FK,
CODCEP_FK,CODCIDADE_FK,CODFUNCAO_FK,SALARIO,CODLOJA_FK) VALUES(2,'ALEX TRINDADE','111',1,1,1,1,1,'1.300',1)

	
);
--15) FUNCAO = {CODFUNCAO, NOMEFUNCAO}
CREATE TABLE FUNCAO(
CODFUNCAO SERIAL PRIMARY KEY,
NOMEFUNCAO VARCHAR (80) NOT NULL UNIQUE
);	
	INSERT INTO FUNCAO(CODFUNCAO,NOMEFUNCAO) VALUES(1,'PROGRAMADOR DE COMPUTADORES')


--16) ITENSTELEFONEFUNCIONARIO = {CODFUNCIONARIO, CODTELEFONE}
CREATE TABLE ITENSTELEFONEFUNCIONARIOS(
CODFUNCIONARIO_FK INTEGER REFERENCES FUNCIONARIOS(CODFUNCIONARIOS) MATCH SIMPLE ON DELETE CASCADE ON UPDATE CASCADE,
CODTELEFONE_FK INTEGER REFERENCES TELEFONE(CODTELEFONE) MATCH SIMPLE ON DELETE CASCADE ON UPDATE CASCADE
);
--17) LOGIN = {CODLOGIN, USUARIO, SENHA, CODFUNCIONARIO}
CREATE TABLE LOGIN(
CODLOGIN SERIAL PRIMARY KEY,
USUARIO VARCHAR(80) NOT NULL UNIQUE,
SENHA CHAR(40) NOT NULL,
CODFUNCIONARIO_FK INTEGER REFERENCES FUNCIONARIOS(CODFUNCIONARIOS) MATCH SIMPLE ON DELETE CASCADE ON UPDATE CASCADE
);
--18) CONTROLELOGSISTEMA = {CODCONTROLE, CODLOGIN, DATA, HORA}
CREATE TABLE CONTROLELOGSISTEMA(
CODCONTROLE SERIAL PRIMARY KEY,
CODLOGIN_FK INTEGER REFERENCES LOGIN(CODLOGIN) MATCH SIMPLE ON DELETE CASCADE ON UPDATE CASCADE,
DATAS DATE NOT NULL
);
--19) ACESSO = {CODACESSO, NOMEACESSO}
CREATE TABLE ACESSO(
CODACESSO SERIAL PRIMARY KEY,
NOMEACESSO VARCHAR(80) NOT NULL UNIQUE
);
--20) ITENSACESSOLOGIN = {CODACESSO, CODLOGIN}
CREATE TABLE ITENSACESSOLOGIN(
CODACESSO_FK INTEGER REFERENCES ACESSO(CODACESSO) MATCH SIMPLE ON DELETE CASCADE ON UPDATE CASCADE,
CODLOGIN_FK INTEGER REFERENCES LOGIN(CODLOGIN) MATCH SIMPLE ON DELETE CASCADE ON UPDATE CASCADE
);
--21) LOJA = {CODLOJA, NOMELOJA, CNPJ, NOMEFANTASIA, RAZAOSOCIAL}
CREATE TABLE LOJA(
CODLOJA SERIAL PRIMARY KEY,
NOMELOJA VARCHAR (80) NOT NULL,
CNPJ CHAR (14) NOT NULL UNIQUE,
NOMEFANTASIA VARCHAR(80) NOT NULL,
RAZAOSOCIAL VARCHAR(80) NOT NULL UNIQUE
);
INSERT INTO LOJA(CODLOJA,NOMELOJA,CNPJ,NOMEFANTASIA,RAZAOSOCIAL) VALUES(1,'LOJAUNIFUNEC','61948307000103','LOJAUNIFUNEC','LOJA DA UNIFUNEC')


--22) ITENSTELEFONELOJA={CODLOJA, CODTELEFONE}
CREATE TABLE ITENSTELEFONELOJA(
CODLOJA_FK INTEGER REFERENCES LOJA(CODLOJA) MATCH SIMPLE ON DELETE CASCADE ON UPDATE CASCADE,
CODTELEFONE_FK INTEGER REFERENCES TELEFONE(CODTELEFONE) MATCH SIMPLE ON DELETE CASCADE ON UPDATE CASCADE
);
/*23) PRODUTO = {CODPRODUTO, NOMEPRODUTO, QUANTIDADE, VALOR, CODMARCA,
CODTIPO }*/
CREATE TABLE PRODUTO(
CODPRODUTO SERIAL PRIMARY KEY,
NOMEPRODUTO VARCHAR(80) UNIQUE,
QUANTIDADE NUMERIC(10,2) NOT NULL,
VALOR NUMERIC(10,2) NOT NULL,
CODMARCA_FK INTEGER REFERENCES MARCA(CODMARCA) MATCH SIMPLE ON DELETE CASCADE ON UPDATE CASCADE,
CODTIPO_FK INTEGER REFERENCES TIPO(CODTIPO) MATCH SIMPLE ON DELETE CASCADE ON UPDATE CASCADE
);
INSERT INTO PRODUTO(CODPRODUTO,NOMEPRODUTO,QUANTIDADE,VALOR,CODMARCA_FK,CODTIPO_FK)
VALUES(1,'TEMPERO','30','13.20',1,1)

--24) MARCA={CODMARCA, NOMEMARCA}
CREATE TABLE MARCA(
CODMARCA SERIAL PRIMARY KEY,
NOMEMARCA VARCHAR(80) NOT NULL UNIQUE
);	
INSERT INTO MARCA(CODMARCA,NOMEMARCA) VALUES(1,'ARISCO')

--25) TIPO={CODTIPO, NOMETIPO}
CREATE TABLE TIPO(
CODTIPO SERIAL PRIMARY KEY,
NOMETIPO VARCHAR(80) NOT NULL UNIQUE
);	
INSERT INTO TIPO(CODTIPO,NOMETIPO) VALUES(1,'ALIMENTICIO')


/*26) FORNECEDOR={CODFORNECEDOR, NOMEFORNECEDOR, NUMEROCASA, CORUA,
CODBAIRRO, CODCEP, CODCIDADE}*/
CREATE TABLE FORNECEDOR(
CODFORNECEDOR SERIAL PRIMARY KEY,
NOMEFORNECEDOR VARCHAR(80) NOT NULL UNIQUE,
NUMEROCASA VARCHAR(10) NOT NULL,
CODCIDADE_FK INTEGER REFERENCES CIDADE(CODCIDADE) MATCH SIMPLE ON DELETE CASCADE ON UPDATE CASCADE,
CODRUA_FK INTEGER REFERENCES RUA(CODRUA) MATCH SIMPLE ON DELETE CASCADE ON UPDATE CASCADE,
CODBAIRRO_FK INTEGER REFERENCES BAIRRO(CODBAIRRO) MATCH SIMPLE ON DELETE CASCADE ON UPDATE CASCADE,
CODCEP_FK INTEGER REFERENCES CEP(CODCEP) MATCH SIMPLE ON DELETE CASCADE ON UPDATE CASCADE
);

INSERT INTO FORNECEDOR(CODFORNECEDOR,NOMEFORNECEDOR,NUMEROCASA,CODCIDADE_FK,CODRUA_FK,
CODBAIRRO_FK,CODCEP_FK) VALUES(1,'X FACTORY','130',5,2,5,5)
SELECT * FROM FORNECEDOR

--27) ITENSTELEFONEFORNECEDOR={CODTELEFONE, CODFORNECEDOR}
CREATE TABLE ITENSTELEFONEFORNECEDOR(
CODTELEFONE_FK INTEGER REFERENCES TELEFONE(CODTELEFONE) MATCH SIMPLE ON DELETE CASCADE ON UPDATE CASCADE,
CODFORNECEDOR_FK INTEGER REFERENCES FORNECEDOR(CODFORNECEDOR) MATCH SIMPLE ON DELETE CASCADE ON UPDATE CASCADE
);
/*28) COMPRAPRODUTO = {CODCOMPRA, DATACOMPRA, CODFORNECEDOR,
CODFUNCIONARIO}*/
CREATE TABLE COMPRAPRODUTO(
CODCOMPRA SERIAL PRIMARY KEY,
DATACOMPRA DATE NOT NULL,
CODTELEFONE_FK INTEGER REFERENCES TELEFONE(CODTELEFONE) MATCH SIMPLE ON DELETE CASCADE ON UPDATE CASCADE,
CODFORNECEDOR_FK INTEGER REFERENCES FORNECEDOR(CODFORNECEDOR) MATCH SIMPLE ON DELETE CASCADE ON UPDATE CASCADE,
CODFUNCIONARIO_FK INTEGER REFERENCES FUNCIONARIOS(CODFUNCIONARIOS) MATCH SIMPLE ON DELETE CASCADE ON UPDATE CASCADE
);
--29) ITENSCOMPRAPRODUTO = {CODCOMPRA, CODPRODUTO, QUANTIDADE, VALORC}
CREATE TABLE ITENSCOMPRAPRODUTO(
CODCOMPRA_FK INTEGER REFERENCES COMPRAPRODUTO(CODCOMPRA) MATCH SIMPLE ON DELETE CASCADE ON UPDATE CASCADE,
CODPRODUTO_FK INTEGER REFERENCES PRODUTO(CODPRODUTO) MATCH SIMPLE ON DELETE CASCADE ON UPDATE CASCADE,
QUANTIDADES NUMERIC (10,2) NOT NULL,
VALORC NUMERIC(10,2) NOT NULL
);
/*30) PARCELACOMPRA = {CODPARCELACOMPRA, DATAVENCIMENTO, VALOR,
CODSITUACAO, CODCOMPRA}*/
CREATE TABLE PARCELACOMPRA(
CODPARCELACOMPRA SERIAL PRIMARY KEY,
DATAVENCIMENTO DATE NOT NULL,
VALORP NUMERIC (10,2) NOT NULL,
CODSITUACAO_FK INTEGER REFERENCES SITUACAO(CODSITUACAO) MATCH SIMPLE ON DELETE CASCADE ON UPDATE CASCADE,
CODCOMPRA_FK INTEGER REFERENCES COMPRAPRODUTO(CODCOMPRA) MATCH SIMPLE ON DELETE CASCADE ON UPDATE CASCADE
);
--31) SITUACAO = {CODSITUACAO, NOMESITUACAO}
CREATE TABLE SITUACAO(
CODSITUACAO SERIAL PRIMARY KEY,
NOMESITUACAO VARCHAR(80) NOT NULL UNIQUE
);
--32) VENDAPRODUTO = {CODVENDA, DATAVENDA, CODCLIENTE, CODFUNCIONARIO}
CREATE TABLE VENDAPRODUTO(
CODVENDA SERIAL PRIMARY KEY,
DATAVENDA DATE NOT NULL,
CODCLIENTE_FK INTEGER REFERENCES CLIENTE(CODCLIENTE) MATCH SIMPLE ON DELETE CASCADE ON UPDATE CASCADE,
CODFUNCIONARIO_FK INTEGER REFERENCES FUNCIONARIOS(CODFUNCIONARIOS) MATCH SIMPLE ON DELETE CASCADE ON UPDATE CASCADE

);
--33) ITENSVENDAPRODUTO = {CODVENDA,CODPRODUTO, QUANTIDADE, VALOR}
CREATE TABLE ITENSVENDAPRODUTO(
CODVENDA_FK INTEGER REFERENCES VENDAPRODUTO(CODVENDA) MATCH SIMPLE ON DELETE CASCADE ON UPDATE CASCADE,
QUANTIDADEITENVENDA NUMERIC (10,2) NOT NULL,
VALORITENSVENDA NUMERIC (10,2) NOT NULL
);
/*34) PARCELAVENDA={CODPARCELA, DATAVENCIMENTO, VALOR, CODSITUACAO,
CODVENDA}*/
CREATE TABLE PARCELAVENDA(
CODPARCELA SERIAL PRIMARY KEY,
DATAVENCIMENTO DATE NOT NULL,
VALORPARCELA NUMERIC (10,2) NOT NULL,
CODFUNCIONARIO_FK INTEGER REFERENCES FUNCIONARIOS(CODFUNCIONARIOS) MATCH SIMPLE ON DELETE CASCADE ON UPDATE CASCADE,
CODSITUACAO_FK INTEGER REFERENCES SITUACAO(CODSITUACAO) MATCH SIMPLE ON DELETE CASCADE ON UPDATE CASCADE,
CODVENDA_FK INTEGER REFERENCES VENDAPRODUTO(CODVENDA) MATCH SIMPLE ON DELETE CASCADE ON UPDATE CASCADE
);
--35) IMAGENS={CODIMAGENS, IMAGEM, DESCRICAO, CODPRODUTO}
CREATE TABLE IMAGENS(
CODIMAGENS SERIAL PRIMARY KEY,
IMAGEN BYTEA NOT NULL UNIQUE,
DESCRICAO VARCHAR(120) NOT NULL,
CODPRODUTO_FK INTEGER REFERENCES PRODUTO(CODPRODUTO) MATCH SIMPLE ON DELETE CASCADE ON UPDATE CASCADE
);






INSERT INTO FUNCIONARIOS(CODFUNCIONARIOS, NOMEFUNCIONARIO, NUMEROCASA, CODRUA_FK,CODBAIRRO_FK, CODCEP_FK,CODCIDADE_FK,CODFUNCAO_FK,SALARIOFUNCIONARIO,CODLOJA_FK)
VALUES();










--1) LISTE A QUANTIDADE DE FUNCIONÁRIOS DA LOJAUNIFUNEC2020.

SELECT * FROM FUNCIONARIOS


--2) LISTE QUANTOS CLIENTES A LOJA UNIFUNEC POSSUI.
SELECT * FROM CLIENTE

--3) INFORME O VALOR DO MAIOR SALÁRIO DO FUNCIONÁRIO DA LOJA.
SELECT MAX(SALARIO)AS MAIOR_SALARIO FROM FUNCIONARIOS

/*4) INFORME O MAIOR E MENOR CÓDIGO DAS CIDADES DO CADASTRADAS NO
BANCO DE DADOS.*/
SELECT CODCIDADE FROM CIDADE ORDER BY CODCIDADE DESC

--5) INFORME A SOMA DE TODOS OS SALÁRIOS DOS FUNCIONÁRIOS DA LOJA.
SELECT SUM (SALARIO) AS TOTAL
FROM FUNCIONARIOS

--6) IMPRIMA A MÉDIA DE TODOS OS SALÁRIOS DA LOJA.

SELECT AVG(C.SALARIO) AS TOTAL, AVG(F.SALARIO) AS CCC
FROM CLIENTE C, FUNCIONARIOS F






/*7) IMPRIMA O SUBTOTAL (QUANTIDADE * VALOR) DE TODOS OS PRODUTOS DA
LOJA.*/

SELECT (QUANTIDADE * VALOR) FROM PRODUTO

--8) IMPRIMA O VALOR TOTAL NO ESTOQUE DA LOJA.

SELECT SUM(VALOR) AS TOTAL FROM PRODUTO

--9) IMPRIMA OS DADOS DE TODOS OS CLIENTES DA LOJA.

SELECT * FROM CLIENTE

--10) IMPRIMA OS DADOS DE TODAS AS CIDADES DA LOJA.

SELECT NOMECIDADE FROM CIDADE

/*11) IMPRIMA OS DADOS DE TODAS AS CIDADES COM A SIGLA DO ESTADO A QUE
ESTE PERTENCE.*/

SELECT * FROM CIDADE

/*12) IMPRIMA A QUANTIDADE DE CLIENTES QUE MORAM NA CIDADE DE “SANTA FÉ
DO SUL”.*/

SELECT NOMECLIENTE FROM CLIENTE WHERE CODCIDADE_FK = 1

/*13) IMPRIMA A QUANTIDADE DE CLIENTES QUE MORAM EM CIDADES QUE
COMEÇAM PELA LETRA “I”.*/

SELECT NOMECLIENTE FROM CLIENTE WHERE NOMECIDADE


/*14) IMPRIMA A QUANTIDADE DE CLIENTES QUE MORAM EM CIDADES QUE
TERMINEM COM A LETRA “L”.*/
SELECT * FROM CLIENTE

SELECT COUNT(NOMECIDADE)
FROM CIDADE
WHERE NOMECIDADE = '%L'

--SELECT * FROM CIDADE WHERE NOMECIDADE LIKE '%L'



--15) IMPRIMA A QUANTIDADE DE CLIENTES QUE SÃO DO SEXO FEMININO.
SELECT COUNT(*) FROM CLIENTE WHERE CODSEXO_FK = 2
SELECT * FROM CLIENTE

/*16) IMPRIMA OS DADOS DOS CLIENTES QUE SÃO DO SEXO FEMININO E QUE MORAM
NA CIDADE DE “SANTA FÉ DO SUL”.*/
SELECT COUNT(*) FROM CLIENTE WHERE CODSEXO_FK = 2 AND CODCIDADE_FK = 1


--17) IMPRIMA A QUANTIDADE DE CLIENTES QUE POSSUEM O MESMO TELEFONE.
SELECT COUNT(*) FROM ITENSTELCLIENTE WHERE CODTELEFONE_FK = 1


/*18) IMPRIMA OS DADOS DOS CLIENTES DE FORMA QUE SE SUBSTITUA AS CHAVES
ESTRANGEIRAS PELO VALORES CONCRETOS DA CHAVE. EXEMPLO: SUBSTITUA
CODCIDADE PELO NOME DA CIDADE.*/

--19) IMPRIMA O VALOR TOTAL DE UMA VENDA ESPECÍFICA.

/*20) IMPRIMA O VALOR TOTAL DAS VENDAS OCORRIDAS NAS DATA ATUAL. UTILIZE
A FUNÇÃO NOW().*/

--21) IMPRIMA A QUANTIDADE DE PARCELAS DE UMA DETERMINADA VENDA.

/*22) IMPRIMA A QUANTDADE DE PARCELAS EM ATRASO DO CLIENTE “MARCOS
ANTONIO ESTREMOTE”.*/

/*23) IMPRIMA QUAIS PARTES DO SISTEMA FUNCIONÁRIO JOÃO DA SILVA PODE
ACESSAR NO SISTEMA.*/

/*24) IMPRIMA O TOTAL EM ESTOQUE DE TODOS DOS PRODUTOS DA MARCA
“ARISCO” E QUE SEJAM DO TIPO “ALIMENTÍCIO”.*/

--25) IMPRIMA TODOS OS DADOS DOS FORNECEDORES CADASTRADOS.

/*26) IMPRIMA QUANTOS FORNECEDORES COMEÇAM PELA LETRA “X” E QUE SEJAM
DA CIDADE DE “SANTA FÉ DO SUL”.*/

/*27) IMPRIMA OS DADOS DE TODOS OS CLIENTES QUE TENHAM TELEFONE DA
OPERADORA DE TELEFONIA “TIM”.*/

/*28) IMPRIMA OS DADOS DE TODOS OS FUNCIONÁRIOS QUE POSSUAM A FUNÇÃO
DE PROGRAMADORES DE COMPUTADORES.*/

/*29) QUAIS SÃO OS ACESSOS QUE NÃO PERMITIDOS NO SISTEMA PELO FUNCIONÁRIO
“ALEX TRINDADE”*/

/*30) IMPRIMA OS DADOS DE TODOS OS CLIENTES QUE POSSUEM PARCELAS DE
VENDAS VENCIDAS HÁ MAIS DE 30 DIAS, QUE SEJAM DO SEXO MASCULINO,
MOREM NO BAIRRO CENTRO E QUE NÃO SEJAM DA CIDADE DE ILHA SOLTEIRA*/
